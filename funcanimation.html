<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Funcanimation</title>
<!-- 2016-07-15 Fri 14:17 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Gaurish Telang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<style>pre.src {background-color: #303030; color: #e5e5e5;} </style>
<link rel="stylesheet" type="text/css" href="~/Dropbox/MyWiki/codes/Haskell/LiterateHaskell/org-style.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Funcanimation</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Visualizing evolving trajectories</a>
<ul>
<li>
<ul>
<li><a href="#sec-1-0-1">1.0.1. State Generator</a></li>
<li><a href="#sec-1-0-2">1.0.2. State Animator</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">2. APPENDIX: A brief tutorial on generators</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Visualizing evolving trajectories</h2>
<div class="outline-text-2" id="text-1">

<p>
I want to animate in Python, the evolution of trajectories of moving objects. For that, I'll use <b><code>FuncAnimation</code></b>
from the animation module.
</p>

<p>
First I'll load the necessary modules, then extract latitudes and longitudes of GPS points along the trajectories
from the given data file. This file is like an excel sheet with the \(i\)'th column containing temporally successive
trajectory points of car \(i\). The cars' co-ordinates have been sampled in lock-step at a 5 minute frequency for 24 hours.
</p>

<p>
Each trajectory is a polygonal chain with the type <b><code>[Point]</code></b> where <b><code>type Point=(Double,Double)</code></b>. I store all
trajectories in the list <b><code>trajectories</code></b> where <code>trajectories[i]</code> denotes the trajectory of the \(i\)-th car.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8ac6f2; font-weight: bold;">from</span> matplotlib <span style="color: #8ac6f2; font-weight: bold;">import</span> pyplot <span style="color: #8ac6f2; font-weight: bold;">as</span> plt
<span style="color: #8ac6f2; font-weight: bold;">from</span> matplotlib <span style="color: #8ac6f2; font-weight: bold;">import</span> animation
<span style="color: #8ac6f2; font-weight: bold;">import</span> numpy <span style="color: #8ac6f2; font-weight: bold;">as</span> np
<span style="color: #8ac6f2; font-weight: bold;">from</span> scipy <span style="color: #8ac6f2; font-weight: bold;">import</span> io
<span style="color: #8ac6f2; font-weight: bold;">import</span> math

<span style="color: #8ac6f2; font-weight: bold;">print</span> <span style="color: #ff1a1a;">"Loading data..."</span>
<span style="color: #cae682;">data</span> = io.loadmat<span style="color: #8c8c8c;">(</span><span style="color: #ff1a1a;">'finalShenzhen9386V6.mat'</span><span style="color: #8c8c8c;">)</span> <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Trajectory data from Shenzhen</span>
<span style="color: #cae682;">lats</span> = data.get<span style="color: #8c8c8c;">(</span><span style="color: #ff1a1a;">'lat'</span><span style="color: #8c8c8c;">)</span>  <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Latitudes</span>
<span style="color: #cae682;">longs</span>= data.get<span style="color: #8c8c8c;">(</span><span style="color: #ff1a1a;">'long'</span><span style="color: #8c8c8c;">)</span> <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Longitudes</span>

<span style="color: #cae682;">numCars</span>          = lats.shape<span style="color: #8c8c8c;">[</span><span style="color: #e5786d;">1</span><span style="color: #8c8c8c;">]</span> <span style="color: #00cc00;"># </span><span style="color: #00cc00;">i.e Number of columns</span>
<span style="color: #cae682;">numSamplesPerCar</span> = lats.shape<span style="color: #8c8c8c;">[</span><span style="color: #e5786d;">0</span><span style="color: #8c8c8c;">]</span> <span style="color: #00cc00;"># </span><span style="color: #00cc00;">i.e Number of rows</span>
</pre>
</div>

<p>
Having extracted the co-ordinates, we set up the figure, axes and meta-data like title, axis limits etc.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8c8c8c;">[</span>xmin, xmax<span style="color: #8c8c8c;">]</span> = <span style="color: #8c8c8c;">[</span> <span style="color: #e5786d;">min</span><span style="color: #93a8c6;">(</span>lats.ravel<span style="color: #b0b1a3;">()</span> <span style="color: #93a8c6;">)</span>, <span style="color: #e5786d;">max</span><span style="color: #93a8c6;">(</span> lats.ravel<span style="color: #b0b1a3;">()</span> <span style="color: #93a8c6;">)</span>   <span style="color: #8c8c8c;">]</span>
<span style="color: #8c8c8c;">[</span>ymin, ymax<span style="color: #8c8c8c;">]</span> = <span style="color: #8c8c8c;">[</span> <span style="color: #e5786d;">min</span><span style="color: #93a8c6;">(</span>longs.ravel<span style="color: #b0b1a3;">()</span><span style="color: #93a8c6;">)</span>, <span style="color: #e5786d;">max</span><span style="color: #93a8c6;">(</span>longs.ravel<span style="color: #b0b1a3;">()</span> <span style="color: #93a8c6;">)</span> <span style="color: #8c8c8c;">]</span>

<span style="color: #cae682;">fig</span>, <span style="color: #cae682;">ax</span> = plt.subplots<span style="color: #8c8c8c;">()</span>
ax.set_title<span style="color: #8c8c8c;">(</span><span style="color: #ff1a1a;">'Trajectories'</span>, fontdict=<span style="color: #93a8c6;">{</span><span style="color: #ff1a1a;">'fontsize'</span>:<span style="color: #e5786d;">40</span><span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>
ax.set_xlabel<span style="color: #8c8c8c;">(</span><span style="color: #ff1a1a;">'Latitude'</span>, fontdict=<span style="color: #93a8c6;">{</span><span style="color: #ff1a1a;">'fontsize'</span>:<span style="color: #e5786d;">20</span><span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>
ax.set_ylabel<span style="color: #8c8c8c;">(</span><span style="color: #ff1a1a;">'Longitude'</span>, fontdict=<span style="color: #93a8c6;">{</span><span style="color: #ff1a1a;">'fontsize'</span>:<span style="color: #e5786d;">20</span><span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>

ax.set_xlim<span style="color: #8c8c8c;">(</span>xmin, xmax<span style="color: #8c8c8c;">)</span>
ax.set_ylim<span style="color: #8c8c8c;">(</span>ymin,ymax<span style="color: #8c8c8c;">)</span>
</pre>
</div>


<p>
Onto the animation! I'll be using the <code>FuncAnimation()</code> function from the <code>animation</code> submodule. 
</p>

<p>
It's main inputs are: 
</p>
<ul class="org-ul">
<li>A state generator <b><code>genState()</code></b> keeping track of the states of data-structures in the \(r\)-gather algorithms.
</li>
<li>A state animator  <b><code>animateState()</code></b> mapping state-data computed by <code>genState()</code> to matplotlib <code>Artist</code> objects. 
In particular, each trajectory is represented as a <b><code>matplotlib.lines.Line2D</code></b> object. 
</li>
<li><b><code>fargs</code></b> containing possibly useful auxiliary data for <code>animateState()</code>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8ac6f2; font-weight: bold;">def</span> <span style="color: #cae682;">animateState</span><span style="color: #8c8c8c;">(</span>lines<span style="color: #8c8c8c;">)</span>:



<span style="color: #8ac6f2; font-weight: bold;">def</span> <span style="color: #cae682;">genState</span><span style="color: #8c8c8c;">()</span>:
    <span style="color: #8ac6f2; font-weight: bold;">yield</span> lines 

<span style="color: #00cc00;"># </span><span style="color: #00cc00;">Bind the animation object to a variable to force it to persist</span>
<span style="color: #cae682;">ani</span> = animation.FuncAnimation<span style="color: #8c8c8c;">(</span> fig, 
                               animateState, 
                               frames   = genState<span style="color: #93a8c6;">(</span>cars<span style="color: #93a8c6;">)</span>, 
                               interval = <span style="color: #e5786d;">500</span>,  <span style="color: #00cc00;"># </span><span style="color: #00cc00;">milliseconds.</span>
                               blit     = <span style="color: #e5786d;">True</span><span style="color: #8c8c8c;">)</span>

plt.show<span style="color: #8c8c8c;">()</span>
</pre>
</div>
</div>


<div id="outline-container-sec-1-0-1" class="outline-4">
<h4 id="sec-1-0-1"><span class="section-number-4">1.0.1</span> State Generator</h4>
<div class="outline-text-4" id="text-1-0-1">
<p>
<a href="http://stackoverflow.com/questions/17511843/python-animation-without-globals">http://stackoverflow.com/questions/17511843/python-animation-without-globals</a>
</p>
<ul class="org-ul">
<li>The state generator yields all <b><i>CUMULATIVE</i></b> xy-coordinates traversed thus far to the animate function.
And writes useful statistical information to disk about the progress of the r-gather
algotithms line objects of the axes corresponding to the trajectories. <font color = "red">  This is where the rGather logic will be inserted!!!*  </font>
</li>

<li>It has 2 <code>for</code> loops.
<ol class="org-ol">
<li>Outer loop iterates over the rows of the excel sheet just read in.
</li>
<li>Inner loop iterates over the N subsegments of each trajectory link
updating rgather properties
</li>
<li>The generator needs to be initialized  with
<ul class="org-ul">
<li>The excel sheet data
</li>
<li>Number of parts to divide each link of the trajectory into.
</li>
</ul>
<p>
The same number  \(N\) is chosen for all the links: say \(N=10\). <span class="underline"><b>Fair warning:</b></span> The size of the data will really explode the bigger the size of your data-file.
Once initialized, we can pass it to funcanimation
</p>
</li>
<li>The data yielded, grows one "<b>micro-row</b>" at a time. Remember that we will
be using lists for this!! So appending is <code>O(1)</code> for each column and hence cheap
over-all there will be two copies of the data: <font color = "red">  This would be a perfect place to
use <code>getContents</code> from Haskell to save memory and maintain just a single running
copy. Possibly this input itself can be extracted using generators in a lazy fashion.
See this link: <a href="http://stackoverflow.com/questions/519633/lazy-method-for-reading-big-file-in-python">http://stackoverflow.com/questions/519633/lazy-method-for-reading-big-file-in-python</a>
This is perfect environment for streaming algorithms! Where the memory tray in this case, is the
size of the RAM available on your machine. You also have a chunking parameter here! Already an extremely
practical problem.
</li>
</ol>
<p>
</font>.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-0-2" class="outline-4">
<h4 id="sec-1-0-2"><span class="section-number-4">1.0.2</span> State Animator</h4>
<div class="outline-text-4" id="text-1-0-2">
<ul class="org-ul">
<li><span class="underline">Question</span>: What <i>does</i> the animate function consume?
<span class="underline">Answer</span>  : The output of the state generator, and optional arguments passed to funcanimation .
</li>
<li>The animate function itself, is aware of the axes object, passed as an argument to fargs
</li>
<li><code>animate</code> then just iterates over the line-objects of <code>ax</code> rendering them to screen via blitting.
<font color = "red"> Turning on this option is crucial!!   </font>
</li>
</ul>




<div class="org-src-container">

<pre class="src src-python"><span style="color: #00cc00;"># </span><span style="color: #00cc00;">Warning!! append, insert for numpy arrays return copies of the arrays!</span>
<span style="color: #8ac6f2; font-weight: bold;">import</span> matplotlib.pyplot <span style="color: #8ac6f2; font-weight: bold;">as</span> plt
<span style="color: #8ac6f2; font-weight: bold;">import</span> matplotlib
<span style="color: #8ac6f2; font-weight: bold;">import</span> numpy <span style="color: #8ac6f2; font-weight: bold;">as</span> np
<span style="color: #cae682;">fig</span> = plt.figure<span style="color: #8c8c8c;">()</span>
<span style="color: #cae682;">ax</span> = plt.axes<span style="color: #8c8c8c;">(</span>xlim=<span style="color: #93a8c6;">(</span><span style="color: #e5786d;">0</span>, <span style="color: #e5786d;">2</span><span style="color: #93a8c6;">)</span>, ylim=<span style="color: #93a8c6;">(</span>-<span style="color: #e5786d;">2</span>, <span style="color: #e5786d;">2</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #cae682;">xs</span> = np.arange<span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">0</span>,<span style="color: #e5786d;">2</span>,<span style="color: #e5786d;">0</span>.<span style="color: #e5786d;">1</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8ac6f2; font-weight: bold;">for</span> i <span style="color: #8ac6f2; font-weight: bold;">in</span> <span style="color: #e5786d;">range</span><span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">5</span><span style="color: #8c8c8c;">)</span>:
          <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Add a line object to ax depending on i</span>
          <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Without a color value, it always gives blue color</span>
          <span style="color: #cae682;">line</span> = matplotlib.lines.Line2D<span style="color: #8c8c8c;">(</span> xs, i*xs,
                                          linewidth=<span style="color: #e5786d;">2</span>,
                                          linestyle=<span style="color: #ff1a1a;">'--'</span>,
                                          marker=<span style="color: #ff1a1a;">'o'</span><span style="color: #8c8c8c;">)</span>

          ax.add_line<span style="color: #8c8c8c;">(</span>line<span style="color: #8c8c8c;">)</span>

          <span style="color: #8ac6f2; font-weight: bold;">for</span> k, line <span style="color: #8ac6f2; font-weight: bold;">in</span> <span style="color: #e5786d;">zip</span><span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">range</span><span style="color: #93a8c6;">(</span><span style="color: #e5786d;">5</span><span style="color: #93a8c6;">)</span>,ax.get_lines<span style="color: #93a8c6;">()</span><span style="color: #8c8c8c;">)</span>:
                    <span style="color: #8ac6f2; font-weight: bold;">print</span> line
                    <span style="color: #cae682;">xs</span>= line.get_xdata<span style="color: #8c8c8c;">()</span>
                    line.set_ydata<span style="color: #8c8c8c;">(</span> k*xs**<span style="color: #e5786d;">2</span> <span style="color: #8c8c8c;">)</span>


                    plt.show<span style="color: #8c8c8c;">()</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #00cc00;"># </span><span style="color: #00cc00;">Warning!! append, insert for numpy arrays return copies of the arrays!</span>
<span style="color: #8ac6f2; font-weight: bold;">import</span> matplotlib.pyplot <span style="color: #8ac6f2; font-weight: bold;">as</span> plt
<span style="color: #8ac6f2; font-weight: bold;">import</span> matplotlib
<span style="color: #8ac6f2; font-weight: bold;">import</span> numpy <span style="color: #8ac6f2; font-weight: bold;">as</span> np
<span style="color: #cae682;">fig</span> = plt.figure<span style="color: #8c8c8c;">()</span>
<span style="color: #cae682;">ax</span> = plt.axes<span style="color: #8c8c8c;">()</span>

<span style="color: #cae682;">xs</span> = np.arange<span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">0</span>,<span style="color: #e5786d;">2</span>,<span style="color: #e5786d;">0</span>.<span style="color: #e5786d;">1</span><span style="color: #8c8c8c;">)</span>
<span style="color: #cae682;">line</span> = matplotlib.lines.Line2D<span style="color: #8c8c8c;">(</span> xs, <span style="color: #e5786d;">4</span>*xs,
                                linewidth=<span style="color: #e5786d;">2</span>,
                                linestyle=<span style="color: #ff1a1a;">'--'</span>,
                                marker=<span style="color: #ff1a1a;">'o'</span><span style="color: #8c8c8c;">)</span>

ax.add_line<span style="color: #8c8c8c;">(</span>line<span style="color: #8c8c8c;">)</span>



<span style="color: #cae682;">xt</span> = np.arange<span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">0</span>,<span style="color: #e5786d;">3</span>,<span style="color: #e5786d;">0</span>.<span style="color: #e5786d;">1</span><span style="color: #8c8c8c;">)</span>
<span style="color: #cae682;">line</span> = ax.get_lines<span style="color: #8c8c8c;">()[</span><span style="color: #e5786d;">0</span><span style="color: #8c8c8c;">]</span>

line.set_xdata<span style="color: #8c8c8c;">(</span>xt<span style="color: #8c8c8c;">)</span>
<span style="color: #cae682;">xl</span>   = line.get_xdata<span style="color: #8c8c8c;">()</span>
<span style="color: #8ac6f2; font-weight: bold;">print</span> <span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">id</span><span style="color: #93a8c6;">(</span>xt<span style="color: #93a8c6;">)</span> == <span style="color: #e5786d;">id</span><span style="color: #93a8c6;">(</span>xl<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span> <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Are these the same? Yes!!!! Looks like!1 Getting and setting is free!!!!!</span>
                         <span style="color: #00cc00;"># </span><span style="color: #00cc00;">Another reason why you might want to do this!</span>
<span style="color: #8ac6f2; font-weight: bold;">print</span> <span style="color: #e5786d;">id</span><span style="color: #8c8c8c;">(</span>xt<span style="color: #8c8c8c;">)</span>, <span style="color: #ff1a1a;">" "</span> , <span style="color: #e5786d;">id</span><span style="color: #8c8c8c;">(</span>xl<span style="color: #8c8c8c;">)</span>
<span style="color: #00cc00;">#</span><span style="color: #00cc00;">plt.show()</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> APPENDIX: A brief tutorial on generators</h2>
<div class="outline-text-2" id="text-2">
<p>
Consider this litle code. Execute it as watch carefully the printed output.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8ac6f2; font-weight: bold;">class</span> <span style="color: #92a65e; font-weight: bold;">person</span>:
      <span style="color: #8ac6f2; font-weight: bold;">def</span> <span style="color: #cae682;">__init__</span><span style="color: #8c8c8c;">(</span><span style="color: #8ac6f2; font-weight: bold;">self</span>, age, job<span style="color: #8c8c8c;">)</span>:
          <span style="color: #8ac6f2; font-weight: bold;">self</span>.age=age
          <span style="color: #8ac6f2; font-weight: bold;">self</span>.job=job

<span style="color: #8ac6f2; font-weight: bold;">def</span> <span style="color: #cae682;">genState</span><span style="color: #8c8c8c;">(</span>person<span style="color: #8c8c8c;">)</span>:
      <span style="color: #8ac6f2; font-weight: bold;">for</span> <span style="color: #8c8c8c;">(</span>age,job<span style="color: #8c8c8c;">)</span> <span style="color: #8ac6f2; font-weight: bold;">in</span>  <span style="color: #e5786d;">zip</span><span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">[</span><span style="color: #e5786d;">10</span>,<span style="color: #e5786d;">21</span>,<span style="color: #e5786d;">41</span><span style="color: #93a8c6;">]</span>, <span style="color: #93a8c6;">[</span><span style="color: #ff1a1a;">"high school"</span>,<span style="color: #ff1a1a;">"student"</span>,<span style="color: #ff1a1a;">"professional"</span><span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>:
          <span style="color: #cae682;">person.age</span> = age
          <span style="color: #cae682;">person.job</span> = job
          <span style="color: #8ac6f2; font-weight: bold;">yield</span> person


<span style="color: #00cc00;"># </span><span style="color: #00cc00;">Gaurish is born. Give initial state</span>
<span style="color: #cae682;">gaurish</span>=person<span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">0</span>,<span style="color: #ff1a1a;">"toddler"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #cae682;">state_generator_for_person</span> = genState<span style="color: #8c8c8c;">(</span>gaurish<span style="color: #8c8c8c;">)</span>

<span style="color: #8ac6f2; font-weight: bold;">for</span> i <span style="color: #8ac6f2; font-weight: bold;">in</span> state_generator_for_person:
    <span style="color: #8ac6f2; font-weight: bold;">print</span> gaurish.age, <span style="color: #ff1a1a;">" "</span>, gaurish.job

<span style="color: #00cc00;"># </span><span style="color: #00cc00;">Gaurish is born. Give initial state</span>
<span style="color: #cae682;">anjana</span>=person<span style="color: #8c8c8c;">(</span><span style="color: #e5786d;">0</span>,<span style="color: #ff1a1a;">"toddler"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8ac6f2; font-weight: bold;">for</span> i <span style="color: #8ac6f2; font-weight: bold;">in</span> genState<span style="color: #8c8c8c;">(</span>anjana<span style="color: #8c8c8c;">)</span>:
    <span style="color: #8ac6f2; font-weight: bold;">print</span> anjana.age, <span style="color: #ff1a1a;">" "</span>, anjana.job
</pre>
</div>
<p>
This example was borrowed from here: <a href="http://anandology.com/python-practice-book/iterators.html">http://anandology.com/python-practice-book/iterators.html</a>
You could say, that generators generate a sequence of states lazily. The iteration over the states
happens separate from the <i>processing</i> of the state, such as animating it, writing to disk or getting
some other kinds of data out of it.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Gaurish Telang</p>
<p class="date">Created: 2016-07-15 Fri 14:17</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
